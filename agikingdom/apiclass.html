<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
    <h2>Api</h2>
    <div id="posts">

    </div>
    <script>
        // // Example: fetching a list of posts
        // fetch('https://jsonplaceholder.typicode.com/posts')
        // // .then(response => response.json()) // parse JSON data
        // // .then(data => console.log(data))// Display data in console
        // .catch(error => console.error('Eror:', error)) // Handle the error
        // fetch('https://jsonplaceholder.typicode.com/posts',{
        // method: 'POST', 
        // headers: {'content-Type': 'application/json'},
        // body: JSON.stringify({
            // title: 'My Post',
            // body: 'This is the content of my post.',  
            // userId: 1
        // })
        // })
        // .then(response => response.json())
            // .then(data => console.log('Post created:', data))
            // .catch(error => console.error('Erro:', error));
            // const apiurl = "https://jsonplaceholder.typicode.com/posts";
            // async function fetchPosts(){
                // try{
                    // // const response = await fetch('http://jsonplaceholder.typicode.com/posts');
                    // if(!response.ok){
                        // throw new 
                    // }
                // }
            // }
            // NEW API CODE
            fetch("https://jsonplaceholder.typicode.com/posts")
            .then(response => response.json())
            // convert the response to JSON
            .then(post =>{
                // iterate over each post and create HTML content
                posts.forEach(post =>{
                    // create a div for each post
                    const postDiv = document.createElement('div');
                    postDiv.className = 'post';
                    // Add the post title and body
                    postDiv.innerHTML = `
                    <h3>${post.id}</h3>
                    <h3>${post.title}</h3>
                    <p>${post.body}</p>
                    `;
                    // Append the post div to the container
                    postscContainer.appendChild(postDiv);
                });

            })
            .catch(error => {
                console.error('Error fetching posts:', error);
                postscContainer.innerHTML = '<p>Failed tp load posts. Please try again later.</p>'

            })
        
    </script>
</body>
</html>